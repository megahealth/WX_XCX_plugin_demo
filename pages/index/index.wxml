<view wx:if="{{device}}" class="page">

<!-- 设备信息 -->
<view class="card">
  <view class="card-title">设备信息</view>
  <view class="row"><text class="label">名称</text><text>{{device.name}}</text></view>
  <view class="row"><text class="label">SN</text><text>{{device.sn}}</text></view>
  <view class="row"><text class="label">MAC</text><text>{{device.mac}}</text></view>
  <view wx:if="{{otherInfo}}" class="row">
    <text class="label">固件</text>
    <text>{{otherInfo.fwVer}}</text>
  </view>
</view>

<!-- 心跳 & 电量 -->
<view wx:if="{{heartBeat}}" class="card">
  <view class="card-title">设备状态</view>

  <view class="row">
    <text class="label">模式</text>
    <text class="tag">{{modeText}}</text>
    <view class="tag" wx:if="{{mode===0}}">模式 :默认模式</view>
    <view class="tag" wx:if="{{mode===1}}">模式 :监测模式</view>
    <view class="tag" wx:if="{{mode===2}}">模式 :运动模式</view>
    <view class="tag" wx:if="{{mode===3}}">模式 :空闲模式</view>
    <view class="tag" wx:if="{{mode===4}}">模式 :实时血氧</view>
    <view class="tag" wx:if="{{mode===5}}">模式 :bp模式</view>
  </view>

  <view class="row" wx:if="{{heartBeat.battPercent !== undefined}}">
    <text class="label">电量</text>
    <text>{{heartBeat.battPercent}}%</text>
  </view>
</view>

<!-- 实时血氧 -->
<view wx:if="{{LiveSpoMonitor}}" class="card">
  <view class="card-title">实时血氧</view>
  <view class="row"><text class="label">心率</text><text>{{LiveSpoMonitor.pr}}</text></view>
  <view class="row"><text class="label">血氧</text><text>{{LiveSpoMonitor.spo}}%</text></view>
</view>

<!-- 睡眠监测 -->
<view wx:if="{{LiveSleep}}" class="card">
  <view class="card-title">睡眠监测</view>
  <view class="row"><text class="label">心率</text><text>{{LiveSleep.pr}}</text></view>
  <view class="row"><text class="label">血氧</text><text>{{LiveSleep.spo}}%</text></view>
  <view class="row"><text class="label">时长</text><text>{{LiveSleep.duration}} s</text></view>
</view>

<!-- 操作区 -->
<view wx:if="{{heartBeat}}" class="card">
  <view class="card-title">设备控制</view>

  <view class="btn-group">
    <button size="mini" bindtap="realTime" data-enable="true">开启实时</button>
    <button size="mini" bindtap="realTime" data-enable="false">关闭实时</button>
  </view>

  <view class="btn-group">
    <button size="mini" bindtap="onLiveSpoMonitor" data-enable="true">血氧 ON</button>
    <button size="mini" bindtap="onLiveSpoMonitor" data-enable="false">血氧 OFF</button>
  </view>

  <view class="btn-group">
    <button size="mini" bindtap="onLiveSleep" data-enable="true">睡眠 ON</button>
    <button size="mini" bindtap="onLiveSleep" data-enable="false">睡眠 OFF</button>
  </view>

  <view class="btn-group">
    <button size="mini" bindtap="getData">收取数据</button>
    <button size="mini" bindtap="quickReport">快速收取</button>
  </view>

  <view class="btn-group">
    <button size="mini" bindtap="getBP">收取BP</button>
    <button size="mini" bindtap="getHRV">收取HRV</button>
  </view>

  <view class="btn-group">
    <button size="mini" bindtap="getModel">获取模式</button>
    <button size="mini" bindtap="enabledebug">开启debug</button>
  </view>

  <view class="btn-group danger">
    <button size="mini" bindtap="getCrashLog">获取chrshlog</button>
    <button size="mini" bindtap="clearSleepReport">删除睡眠</button>
    <button size="mini" bindtap="clearBPReport">删除 BP</button>
    <button size="mini" bindtap="clearHRVReport">删除 HRV</button>
  </view>

  <button class="unbind" bindtap="discover">解绑设备</button>
</view>

</view>
