### 1.开启和收取的流程

```
1.关闭睡眠监测。
2.开启实时通道
  1.血氧数据 开启监测-关闭监测-快速收取
    bytes：数据,dataStopType：结束类型, dataType：报告类型
  2.血压数据 收取HRV数据
    bytes：数据
  3.HRV数据 收取HRV数据
    bytes：数据,dataStopType：结束类型, dataType：报告类型
  4.运动数据 关闭监测-快速收取
  	bytes：数据,dataStopType：结束类型, dataType：报告类型
```

### 2.查看数据并存储

```
上述操作后，会收取到对应的bytes
```

### 3.上传数据

接口： https://server-mhn.megahealth.cn/upload/uploadBinData

请求方式：

-  POST
- content-Type:multipart/form-data

请求参数：

#### 1.睡眠报告

| 参数名称      | 类型   | 描述         | 示例                                         |
| ------------- | ------ | ------------ | -------------------------------------------- |
| institutionId | string | 机构id       |                                              |
| remoteDevice  | Object | 指环数据     | {mac:指环mac,sn：指环sn,swVer：指环固件版本} |
| platform      | string | 指环终端类型 | iOS,Android、wx-app                          |
| reportType    | Object | 报告类型     | {dataType:报告类型，stopType：结束类型}      |
| bpData        | string | 血压数据     | 从接口拿到byte数据                           |
| binData       | string | 血氧数据     | 从接口拿到byte数据                           |

#### 2.HRV报告

| 参数名称      | 类型   | 描述         | 示例                                         |
| ------------- | ------ | ------------ | -------------------------------------------- |
| institutionId | string | 机构id       |                                              |
| remoteDevice  | Object | 指环数据     | {mac:指环mac,sn：指环sn,swVer：指环固件版本} |
| platform      | string | 指环终端类型 | iOS,Android、wx-app                          |
| reportType    | Object | 报告类型     | {dataType:报告类型，stopType：结束类型}      |
| binData       | string | 血氧数据     | 从接口拿到byte数据                           |

#### 3.运动报告

| 参数名称      | 类型   | 描述         | 示例                                         |
| ------------- | ------ | ------------ | -------------------------------------------- |
| institutionId | string | 机构id       |                                              |
| remoteDevice  | Object | 指环数据     | {mac:指环mac,sn：指环sn,swVer：指环固件版本} |
| platform      | string | 指环终端类型 | iOS,Android、wx-app                          |
| reportType    | Object | 报告类型     | {dataType:报告类型，stopType：结束类型}      |
| binData       | string | 血氧数据     | 从接口拿到byte数据                           |

### 4.查看

```
睡眠 	https://ringadmin.megahealth.cn/#/sleep-report/{{id}}
```

### 5.备注

1.血压属于借用的运动类型，所以开启运动前，需要先将血氧、hrv、bp数据收取完毕。避免数据被覆盖

2.运动等后续开放

| 报告类型dataType | 描述      | 结束类型stopType | 描述     |
| ---------------- | --------- | ---------------- | -------- |
| 1                | 睡眠      | 0                | 正常     |
| 2                | 运动/血压 | 1                | 超时     |
| 10               | hrv       | 2                | 复位     |
|                  |           | 3                | 内存     |
|                  |           | 4                | 电量不足 |
|                  |           | 5                | 充电     |
|                  |           | 6                | 错误     |